(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[492],{41127:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/[slug]",function(){return s(96257)}])},87219:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var a=s(85893),r=s(93967),i=s.n(r),n=s(43890),l=s(95130),o=s.n(l);function c(e){let{className:t}=e,{name:s}=(0,n.Z)();return(0,a.jsxs)(a.Fragment,{children:["web-rings"===s&&(0,a.jsx)("img",{className:i()(t,o().icon,o().webRingsIcon),src:"/themes/web-rings/link_arrow.gif",alt:"Spinning arrow gif"}),"web-rings"!==s&&(0,a.jsx)("svg",{className:i()(t,o().icon),viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 0H3V1H4V2H5V3H0V4H5V5H4V6H3V7H4V6H5V5H6V4H7V3H6V2H5V1H4V0Z",fill:"currentColor"})})]})}},43750:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var a=s(85893),r=s(93967),i=s.n(r),n=s(41664),l=s.n(n),o=s(83507),c=s.n(o),d=s(35679),m=s(51318);function h(e){let{title:t,body:s,tags:r,artConfig:n,artId:o,url:h,fig:g}=e;return(0,a.jsxs)("div",{className:c().post,children:[(0,a.jsx)(d.Z,{className:c().image,id:"Fig. ".concat(o),config:n,fig:g}),(0,a.jsxs)(l(),{href:h,className:c().copy,target:"_blank",children:[(0,a.jsx)("div",{className:i()("text-md",c().title),children:(0,a.jsxs)("span",{className:c().highlight,children:[t,(0,a.jsx)("span",{className:c().arrow,children:(0,a.jsxs)("svg",{viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{y:"5",width:"1",height:"1",fill:"currentColor"}),(0,a.jsx)("rect",{x:"1",y:"4",width:"1",height:"1",fill:"currentColor"}),(0,a.jsx)("rect",{x:"2",y:"3",width:"1",height:"1",fill:"currentColor"}),(0,a.jsx)("rect",{x:"3",y:"2",width:"1",height:"1",fill:"currentColor"}),(0,a.jsx)("rect",{x:"4",y:"1",width:"1",height:"1",fill:"currentColor"}),(0,a.jsx)("rect",{x:"5",width:"1",height:"6",fill:"currentColor"}),(0,a.jsx)("rect",{width:"6",height:"1",fill:"currentColor"})]})})]})}),(0,a.jsxs)("div",{className:i()("text-sm",c().body),children:[s&&(0,a.jsx)("span",{className:c().bodyHighlight,children:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120,s=0,a=e.split(" "),r=[];for(;s<t&&a.length;){let e=a.shift();e&&(r.push(e),s+=e.length)}return"".concat(r.join(" "),"...")}(s)}),r&&(0,a.jsx)("div",{className:c().tags,children:r.map(e=>(0,a.jsx)(m.Z,{className:i()(c().tag,c().tagHighlight),children:e},e))})]})]})]})}},96257:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return J},default:function(){return U}});var a=s(85893),r=s(9008),i=s.n(r),n=s(93967),l=s.n(n),o=s(34585),c=s(98683),d=s(55186),m=s(84283),h=s(27241),g=s(61020),u=s(24130),x=s(7522),_=s(67015),p=s(10113),j=s(84983),f=s(67294),N=s(63849),v=s.n(N),w=s(22993),b=s(92853),P=s(4960),y=s(4002),Z=s(13114),B=s(64698),H=s(35679);function C(e){let{title:t,onTitleIntersect:s,artConfig:r}=e,[i,n]=(0,f.useState)(!1),{x:l,y:o}=function(e){let t=(0,P.c)(0),s=(0,P.c)(0),a=(0,y.q)(t,e),r=(0,y.q)(s,e);return(0,f.useEffect)(()=>{function e(e){t.set(e.clientX+10),s.set(e.clientY+10)}return document.addEventListener("mousemove",e),()=>document.removeEventListener("mousemove",e)},[t,s]),{x:a,y:r}}({damping:50,stiffness:500,restDelta:.01}),c=function(e){let{onIntersect:t,threshold:s=1,rootMargin:a="0px"}=e,r=(0,f.useRef)(null),i=new IntersectionObserver(e=>{t(e[0].isIntersecting)},{threshold:s,rootMargin:a}),n=(0,f.useRef)(i).current;return(0,f.useEffect)(()=>{let e=r.current;return e&&n&&n.observe(r.current),()=>{e&&n&&(n.unobserve(e),n.disconnect())}},[n]),r}({onIntersect:s,threshold:[0,.01,.99,1],rootMargin:"-20px 0px"});return(0,a.jsxs)(x.Z,{className:v().section,children:[(0,a.jsxs)("div",{className:v().plusIcons,children:[(0,a.jsx)(b.Z,{}),(0,a.jsx)(b.Z,{}),(0,a.jsx)(b.Z,{}),(0,a.jsx)(b.Z,{})]}),(0,a.jsx)("h1",{ref:c,className:v().title,onMouseEnter:()=>{n(!0)},onMouseLeave:()=>{n(!1)},children:t}),(0,a.jsx)("div",{className:v().icon,children:(0,a.jsx)(w.Z,{})}),(0,a.jsxs)("div",{className:v().plusIcons,children:[(0,a.jsx)(b.Z,{}),(0,a.jsx)(b.Z,{}),(0,a.jsx)(b.Z,{}),(0,a.jsx)(b.Z,{})]}),(0,a.jsx)(Z.M,{children:i&&(0,a.jsx)(B.E.div,{className:v().artContainer,style:{x:l,y:o},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},children:(0,a.jsx)(H.Z,{hideControls:!0,className:v().art,id:"blog-title",config:r,fig:"Fig 01"})})})]})}var I=s(43890),A=s(96314),R=s(89944),S=s(51318),k=s(85510),E=s(76635),F=s(87219),D=s(74885),L=s.n(D),V=s(43750);class M extends f.Component{static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?this.props.fallback:this.props.children}constructor(e){super(e),this.state={hasError:!1}}}var W=s(11843),T=s(41664),X=s.n(T),Y=s(95354),q=s(42309);let O={code(e){let{className:t,children:s,...r}=e,i=/language-(\w+)/.exec(t||"");return i?i&&(0,a.jsx)(c.Z,{style:m.YC,PreTag:"div",language:i[1]?i[1]:"javascript",...r,children:String(s).replace(/\n$/,"")}):(0,a.jsx)("code",{className:L().codeSnippet,children:s})},img(e){var t;let{src:s,alt:r}=e;return(t=s||"").endsWith(".mp4")||t.endsWith(".webm")||t.endsWith(".mov")?(0,a.jsx)("div",{className:L().videoWrapper,children:(0,a.jsx)("div",{className:L().videoContainer,children:(0,a.jsx)("video",{src:s,controls:!1,className:L().video,loop:!0,autoPlay:!0,muted:!0})})}):(0,a.jsx)("span",{className:L().imageWrapper,children:(0,a.jsx)("span",{className:L().imageContainer,children:(0,a.jsx)("img",{src:s,alt:r||""})})})},th(e){let{children:t}=e;return(0,a.jsx)("th",{className:"text-smallcaps",children:t})},table(e){let{children:t}=e;return(0,a.jsx)("table",{className:"text-xs",children:t})}},Q="https://images.ctfassets.net/fzn2n1nzq965/1IiEdIR6LsEY9aym5JQM6u/85a9a55f58137d9d1fac99319658081b/dev_social.png";function z(){return(0,a.jsxs)("p",{className:L().error,children:[(0,a.jsx)("img",{className:L().errorIcon,width:24,height:24,src:"/images/dead.png",alt:"Something went wrong"}),(0,a.jsx)(S.Z,{children:"Something went wrong."}),(0,a.jsx)("span",{className:"text-xs",children:"Try updating your browser or reloading the page."})]})}var J=!0;function U(e){let{postData:t,authors:s,estimatedReadingTime:r}=e,[n,c]=(0,f.useState)(!1);(0,f.useEffect)(()=>{c(!0)},[]);let m=(0,A.JJ)("desktop"),[N,v]=(0,f.useState)(!0),w=m&&!N&&n;(0,R.Z)(),(0,I.e)();let b="https://stripe.dev/blog/".concat(t.slug);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"".concat(t.title," | Stripe Dot Dev Blog")}),(0,a.jsx)("meta",{property:"og:title",content:t.title},"title"),(0,a.jsx)("meta",{name:"description",content:t.summary}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0"}),(0,a.jsx)("meta",{property:"og:title",content:t.title},"title"),(0,a.jsx)("meta",{property:"og:description",content:t.summary},"description"),(0,a.jsx)("meta",{property:"og:image",name:"og:image",content:Q}),(0,a.jsx)("meta",{property:"og:url",content:b}),(0,a.jsx)("meta",{name:"image",property:"og:image",content:Q}),(0,a.jsx)("meta",{name:"description",property:"og:description",content:t.summary}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:site",content:"@stripepress"}),(0,a.jsx)("meta",{name:"twitter:creator",content:"@stripepress"}),(0,a.jsx)("meta",{name:"twitter:title",content:t.title}),(0,a.jsx)("meta",{name:"twitter:description",content:t.summary}),(0,a.jsx)("meta",{name:"twitter:image",content:Q}),(0,a.jsx)("link",{rel:"icon",href:"../favicon.ico",sizes:"16x16",type:"image/x-icon"})]}),(0,a.jsxs)(g.Z,{children:[(0,a.jsx)(_.Z,{}),(0,a.jsx)(C,{artConfig:t.artConfig,onTitleIntersect:e=>{v(e)},title:t.title}),(0,a.jsxs)(x.Z,{className:L().blogPostSection,children:[(0,a.jsx)("div",{className:L().sidebar,children:(0,a.jsxs)(Z.M,{initial:!1,mode:"popLayout",children:[w&&(0,a.jsx)(B.E.div,{layout:"position",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2,ease:"easeOut"},className:l()("text-lg",L().sidebarHeader),children:t.title},"sidebarheader"),(0,a.jsxs)(B.E.div,{className:L().metadata,layout:"position",children:[(0,a.jsx)(p.Z,{className:L().metadataHeader,children:(0,a.jsx)(j.Z,{className:L().metadataLabel,children:"Metadata"})}),(0,a.jsxs)("div",{className:L().metadata,children:[(0,a.jsxs)("div",{className:l()("text-smallcaps",L().metaDataItem),children:[(0,a.jsx)("span",{children:"Date:"}),(0,a.jsx)("span",{children:(0,h.Z)(t.date,{year:!0})})]}),(0,a.jsxs)("div",{className:l()("text-smallcaps",L().metaDataItem),children:[(0,a.jsx)("span",{children:s.length>1?"Authors:":"Author:"}),(0,a.jsx)("span",{children:s.map(e=>{let t=e.slug;return(0,a.jsx)(S.Z,{as:"a",href:"/authors/".concat(t),children:e.name},t)})})]}),(0,a.jsxs)("div",{className:l()("text-smallcaps",L().metaDataItem),children:[(0,a.jsx)("span",{children:"Reading time:"}),(0,a.jsx)("span",{children:r})]}),(0,a.jsxs)("div",{className:l()("text-smallcaps",L().metaDataItem),children:[(0,a.jsx)("span",{children:"Categories:"}),(0,a.jsx)("div",{className:L().tags,children:t.topics.map(e=>(0,a.jsx)(S.Z,{children:e},e))})]}),(0,a.jsxs)("div",{className:L().metaDataShare,children:[(0,a.jsx)("span",{className:"text-smallcaps",children:"Share:"}),(0,a.jsxs)("div",{className:l()(L().shareButtonContainer),children:[(0,a.jsx)(X(),{href:"https://twitter.com/intent/tweet?url=".concat(b,"&text=").concat(t.title),target:"_blank",className:l()("buttonSm",L().shareButton),children:"Twitter/X"}),(0,a.jsx)(X(),{href:"http://www.linkedin.com/shareArticle?mini=true&url=".concat(b,"&title=").concat(encodeURIComponent(t.title),"&sumamry=").concat(encodeURIComponent(t.summary)),target:"_blank",className:l()("buttonSm",L().shareButton),children:"LinkedIn"})]})]})]})]},"table")]})}),(0,a.jsxs)("div",{className:L().article,children:[(0,a.jsx)(p.Z,{className:L().articleHeader,children:(0,a.jsx)(j.Z,{className:L().articleLabel,children:"Article"})}),(0,a.jsx)("div",{className:L().articleBody,children:(0,a.jsx)(M,{fallback:(0,a.jsx)(z,{}),children:n&&(0,a.jsx)(o.U,{remarkPlugins:[d.Z],components:O,children:t.content})})}),s.length>0&&(0,a.jsxs)("div",{className:L().aboutAuthor,children:[(0,a.jsx)(p.Z,{className:L().aboutAuthorHeader,children:(0,a.jsxs)(j.Z,{className:L().aboutAuthorLabel,children:["About the author",1===s.length?"":"s"]})}),s.map(e=>(0,a.jsxs)("div",{className:L().authorContent,children:[(0,a.jsx)("h4",{className:l()("text-lg",L().authorName),children:e.name}),(0,a.jsx)("p",{className:l()("text-sm",L().authorBio),children:e.profile}),(0,a.jsx)("div",{className:L().additionalResourcesList,children:e.posts.map((e,t)=>{let{title:s,slug:r}=e;return(0,a.jsx)(k.Z,{className:L().additionalResourcesListItem,children:(0,a.jsxs)(X(),{href:"/blog/".concat(r),className:L().link,children:[(0,a.jsxs)("span",{className:l()("text-smallcaps",L().label),children:[(0,a.jsx)(E.Z,{}),s]}),(0,a.jsx)(F.Z,{className:L().arrow})]})},r+t)})})]},e.slug))]}),t.additionalResources&&t.additionalResources.length>0&&(0,a.jsxs)("div",{className:L().additionalResources,children:[(0,a.jsx)(p.Z,{className:L().additionalResourcesHeader,children:(0,a.jsx)(j.Z,{className:L().additionalResourcesLabel,children:"Additional resources"})}),(0,a.jsx)("div",{className:L().additionalResourcesList,children:t.additionalResources.map((e,t)=>{let{title:s,url:r}=e;return(0,a.jsx)(k.Z,{className:L().additionalResourcesListItem,children:(0,a.jsxs)(X(),{href:r,className:L().link,target:"_blank",children:[(0,a.jsxs)("span",{className:l()("text-smallcaps",L().label),children:[(0,a.jsx)(E.Z,{}),s]}),(0,a.jsx)(F.Z,{className:L().arrow})]})},r+t)})})]})]})]}),(0,a.jsx)(x.Z,{className:L().relatedArticlesSection,children:t.relatedArticles.length>=2&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.Z,{className:L().relatedHeader,children:(0,a.jsx)(j.Z,{className:L().relatedHeaderItem,children:"Related Articles"})}),(0,a.jsx)(V.Z,{title:t.relatedArticles[0].title,artId:0,artConfig:t.relatedArticles[0].artConfig,fig:"Fig. 1",tags:t.relatedArticles[0].topics,body:t.relatedArticles[0].summary,url:"/blog/".concat(t.relatedArticles[0].slug)}),(0,a.jsx)(V.Z,{title:t.relatedArticles[1].title,artId:1,fig:"Fig. 2",artConfig:t.relatedArticles[1].artConfig,tags:t.relatedArticles[1].topics,body:t.relatedArticles[1].summary,url:"/blog/".concat(t.relatedArticles[1].slug)})]})}),(0,a.jsx)(u.Z,{}),(0,a.jsx)(q.Z,{}),(0,a.jsx)(W.Mn,{}),(0,a.jsx)(Y.Z,{})]})]})}},95130:function(e){e.exports={icon:"ArrowIcon_icon__5vunI",webRingsIcon:"ArrowIcon_webRingsIcon__ay_CQ"}},63849:function(e){e.exports={section:"BlogPostHero_section___mh3g",title:"BlogPostHero_title__fSDpd",icon:"BlogPostHero_icon__ckUwk",plusIcons:"BlogPostHero_plusIcons__p49_J",artContainer:"BlogPostHero_artContainer__ZPs4g",caption:"BlogPostHero_caption__IxlSE"}},83507:function(e){e.exports={post:"FeaturedPost_post__071cK",highlight:"FeaturedPost_highlight__h4VdI",image:"FeaturedPost_image__cyPS2",arrow:"FeaturedPost_arrow__d6CdS",title:"FeaturedPost_title__FhwAh",copy:"FeaturedPost_copy__lX9it",bodyHighlight:"FeaturedPost_bodyHighlight__yMYZi",tagHighlight:"FeaturedPost_tagHighlight__6_k3P",body:"FeaturedPost_body__A9_Zp",tags:"FeaturedPost_tags__03kV0"}},74885:function(e){e.exports={blogPostSection:"BlogPost_blogPostSection__X9Lz6",sidebar:"BlogPost_sidebar__6u9iR",sidebarHeader:"BlogPost_sidebarHeader__HX5Fa",metadataHeader:"BlogPost_metadataHeader__xm1cw",metadata:"BlogPost_metadata__GBjLW",metaDataItem:"BlogPost_metaDataItem__QH8xg",tags:"BlogPost_tags__bHML5",metaDataShare:"BlogPost_metaDataShare__9Z7dA",shareButtonContainer:"BlogPost_shareButtonContainer__uPEs_",art:"BlogPost_art__BQthH",article:"BlogPost_article__4OIMA",articleHeader:"BlogPost_articleHeader__QtWle",articleBody:"BlogPost_articleBody__i5x8r",codeSnippet:"BlogPost_codeSnippet__PAwCt",videoWrapper:"BlogPost_videoWrapper__1dkKj",imageWrapper:"BlogPost_imageWrapper__6O1ZL",videoContainer:"BlogPost_videoContainer__Cnw20",imageContainer:"BlogPost_imageContainer__Z6D9Y",video:"BlogPost_video__qI8tT",aboutAuthor:"BlogPost_aboutAuthor__3yDdD",authorContent:"BlogPost_authorContent__eqFdV",additionalResources:"BlogPost_additionalResources__oqypq",aboutAuthorHeader:"BlogPost_aboutAuthorHeader__PWzTj",additionalResourcesHeader:"BlogPost_additionalResourcesHeader__7h4Yr",additionalResourcesList:"BlogPost_additionalResourcesList__353MR",link:"BlogPost_link__9DDMj",label:"BlogPost_label___OuSV",arrow:"BlogPost_arrow__Cbo7c",relatedArticlesSection:"BlogPost_relatedArticlesSection__v90yS",relatedHeader:"BlogPost_relatedHeader__8JQ2R",error:"BlogPost_error__mrjeY",errorIcon:"BlogPost_errorIcon__dRbYX"}}},function(e){e.O(0,[755,736,135,539,888,774,179],function(){return e(e.s=41127)}),_N_E=e.O()}]);